<%keys = locals[:keys] %>

<!-- CSS -->

<link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css"> 
<div style="overflow-x: scroll;">
<table id="pagination_table" class="table table-striped table-bordered table-hover table-sm table-responsive'" cellspacing="0" width="100%">

 <h2> List of <%=locals[:collection_name]%></h2>
        <thead>
            <tr>
                <% keys.each do |key| %>
                <td><%= key %> </td>
                <% end %>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <%keys.each  do |key| %>
                <td><%= key %> </td>
                <% end %>
            </tr>
        </tfoot>
        </table>   
      <div class="col-md-12 text-center">
      <ul class="pagination pagination-lg pager" id="myPager"></ul>
      </div>
      </div>

<script type="text/javascript">
$(document).ready(function() {
    $('#pagination_table').DataTable( {
        "processing": true,
        "serverSide": true,
        "sServerMethod": "post",
        "bFilter": false,
        "sPaginationType": "full_numbers",
        "ajax": "<%= locals[:ajax_link]%>"
    } );

    $('#pagination_table').on( 'click', 'tbody tr', function () {
      var hash_id = $(this).find('td').first().text()
      var newLocation = "<%= locals[:page_link]%>" + hash_id; 
      window.location.href = newLocation;
} );

} );

</script>



